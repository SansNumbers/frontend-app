{"ast":null,"code":"var _jsxFileName = \"/Users/iantypin/frontend-app/src/components/pages/Home/Home.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Login() {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleChange = e => {\n    switch (e.target.name) {\n      case 'username':\n        setUsername(e.target.value);\n        break;\n\n      case 'password':\n        setPassword(e.target.value);\n        break;\n    }\n  };\n\n  const handleSubmit = () => {\n    const api = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      data: {\n        username: username,\n        password: password\n      },\n      url: \"https://orbimind.herokuapp.com/api/auth/login\"\n    };\n    const promise = axios.post(api.url, api.data, {\n      headers: api.headers\n    });\n    toast.promise(promise, {\n      loading: 'Logging in...',\n      success: response => {\n        Cookies.set('user', {\n          id: response.data.user.id,\n          username: response.data.user.username,\n          name: response.data.user.name,\n          email: response.data.user.email,\n          image: response.data.user.image,\n          token: response.data.token\n        }, {\n          expires: response.data.expires_in / 86400,\n          sameSite: 'strict'\n        });\n        setTimeout(() => location.replace('/posts'), 1500);\n        return response.data.message;\n      },\n      error: error => {\n        if (error.response.data.errors) {\n          if (error.response.data.errors.username) for (let i = 0; i < error.response.data.errors.username.length; i++) toast.error(error.response.data.errors.username[i]);\n          if (error.response.data.errors.password) for (let i = 0; i < error.response.data.errors.password.length; i++) toast.error(error.response.data.errors.password[i]);\n        }\n\n        return error.response.data.message;\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"authScreen unselectable\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Login \\u2223 Orbimind\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Logo, {\n      className: \"popTop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"fadeIn\",\n      children: \"Welcome back!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e.preventDefault()),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"text\",\n        placeholder: \"Enter your username\",\n        name: \"username\",\n        value: username,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"password\",\n        placeholder: \"Enter your password\",\n        name: \"password\",\n        value: password,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forgot-password\",\n          id: \"forgot\",\n          children: \"Forgot password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"fadeIn\",\n        type: \"submit\",\n        value: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Not a member yet? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Sing up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 41\n        }, this), \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"bottom-center\",\n      reverseOrder: false,\n      toastOptions: {\n        style: {\n          borderRadius: '8px',\n          backgroundColor: 'white',\n          padding: '10px'\n        },\n        duration: 2000,\n        success: {\n          iconTheme: {\n            primary: '#7c6aef',\n            secondary: '#FFF'\n          }\n        },\n        error: {\n          duration: 4000\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n\n_c = Login;\nexport function Register() {\n  _s2();\n\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [password_confirmation, setPasswordConfirmation] = useState('');\n\n  const handleChange = e => {\n    switch (e.target.name) {\n      case 'username':\n        setUsername(e.target.value);\n        break;\n\n      case 'name':\n        setName(e.target.value);\n        break;\n\n      case 'email':\n        setEmail(e.target.value);\n        break;\n\n      case 'password':\n        setPassword(e.target.value);\n        break;\n\n      case 'password_confirmation':\n        setPasswordConfirmation(e.target.value);\n        break;\n    }\n  };\n\n  const handleSubmit = () => {\n    const api = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      data: {\n        username: username,\n        name: name,\n        email: email,\n        password: password,\n        password_confirmation: password_confirmation\n      },\n      url: \"https://orbimind.herokuapp.com/api/auth/register\"\n    };\n    const promise = axios.post(api.url, api.data, {\n      headers: api.headers\n    });\n    toast.promise(promise, {\n      loading: 'Registering...',\n      success: response => {\n        setTimeout(() => history.push('/login'), 1500);\n        return response.data.message;\n      },\n      error: error => {\n        if (error.response.data.errors) {\n          if (error.response.data.errors.username) for (let i = 0; i < error.response.data.errors.username.length; i++) toast.error(error.response.data.errors.username[i]);\n          if (error.response.data.errors.name) for (let i = 0; i < error.response.data.errors.name.length; i++) toast.error(error.response.data.errors.name[i]);\n          if (error.response.data.errors.email) for (let i = 0; i < error.response.data.errors.email.length; i++) toast.error(error.response.data.errors.email[i]);\n          if (error.response.data.errors.password) for (let i = 0; i < error.response.data.errors.password.length; i++) toast.error(error.response.data.errors.password[i]);\n        }\n\n        return error.response.data.message;\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"authScreen\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Register \\u2223 Orbimind\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Logo, {\n      className: \"popTop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"fadeIn\",\n      children: \"Become a part!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"widthUpAuth\",\n      onSubmit: e => handleSubmit(e.preventDefault()),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"text\",\n        value: username,\n        onChange: handleChange,\n        name: \"username\",\n        placeholder: \"Enter your username\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"text\",\n        value: name,\n        onChange: handleChange,\n        name: \"name\",\n        placeholder: \"Enter your name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"email\",\n        value: email,\n        onChange: handleChange,\n        name: \"email\",\n        placeholder: \"Enter your email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"password\",\n        value: password,\n        onChange: handleChange,\n        name: \"password\",\n        placeholder: \"Enter your password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"password\",\n        value: password_confirmation,\n        onChange: handleChange,\n        name: \"password_confirmation\",\n        placeholder: \"Repeat your password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"fadeIn\",\n        type: \"submit\",\n        value: \"Become a part\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 43\n        }, this), \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"bottom-center\",\n      reverseOrder: false,\n      toastOptions: {\n        style: {\n          borderRadius: '8px',\n          backgroundColor: 'white',\n          padding: '10px'\n        },\n        duration: 2000,\n        success: {\n          iconTheme: {\n            primary: '#7c6aef',\n            secondary: '#FFF'\n          }\n        },\n        error: {\n          duration: 4000\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(Register, \"ikqCwVLEGTcRypXmurAVlZNmL1U=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = Register;\nexport function ForgotPassword() {\n  _s3();\n\n  const [email, setEmail] = useState('');\n\n  const handleChange = event => setEmail(event.target.value);\n\n  const handleSubmit = () => {\n    const api = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      data: {\n        email: email\n      },\n      url: \"https://orbimind.herokuapp.com/api/auth/password-reset\"\n    };\n    const promise = axios.post(api.url, api.data, {\n      headers: api.headers\n    });\n    toast.promise(promise, {\n      loading: 'Sending magic letter..',\n      success: response => response.data.message,\n      error: error => {\n        if (error.response.data.errors) {\n          if (error.response.data.errors.email) for (let i = 0; i < error.response.data.errors.email.length; i++) toast.error(error.response.data.errors.email[i]);\n        }\n\n        return error.response.data.message;\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"authScreen unselectable\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Forgot Password \\u2223 Orbimind\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Logo, {\n      className: \"popTop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"fadeIn\",\n      children: \"Let's get your password back!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e.preventDefault()),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"email\",\n        value: email,\n        onChange: handleChange,\n        placeholder: \"Enter your email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"fadeIn\",\n        type: \"submit\",\n        value: \"Send email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"bottom-center\",\n      reverseOrder: false,\n      toastOptions: {\n        style: {\n          borderRadius: '8px',\n          backgroundColor: 'white',\n          padding: '10px'\n        },\n        duration: 2000,\n        success: {\n          iconTheme: {\n            primary: '#7c6aef',\n            secondary: '#FFF'\n          }\n        },\n        error: {\n          duration: 4000\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 9\n  }, this);\n}\n\n_s3(ForgotPassword, \"qu4bovk5U4+JuhY7vxbmswqixrc=\");\n\n_c3 = ForgotPassword;\nexport function ResetPassword() {\n  _s4();\n\n  const history = useHistory();\n  const {\n    token\n  } = useParams();\n  const [password, setPassword] = useState('');\n  const [password_confirmation, setPasswordConfirmation] = useState('');\n\n  const onChange = event => {\n    switch (event.target.id) {\n      case 'password':\n        setPassword(event.target.value);\n        break;\n\n      case 'password_c':\n        setPasswordConfirmation(event.target.value);\n        break;\n    }\n  };\n\n  const onSubmit = () => {\n    const api = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      data: {\n        password: password,\n        password_confirmation: password_confirmation\n      },\n      url: \"https://orbimind.herokuapp.com/api/auth/password-reset/\" + token\n    };\n    const promise = axios.post(api.url, api.data, {\n      headers: api.headers\n    });\n    toast.promise(promise, {\n      loading: 'Updating..',\n      success: response => {\n        setTimeout(() => history.push('/login'), 1500);\n        return response.data.message;\n      },\n      error: error => {\n        if (error.response.data.errors) {\n          if (error.response.data.errors.password) for (let i = 0; i < error.response.data.errors.password.length; i++) toast.error(error.response.data.errors.password[i]);\n          if (error.response.data.errors.password_confirmation) for (let i = 0; i < error.response.data.errors.password_confirmation.length; i++) toast.error(error.response.data.errors.password_confirmation[i]);\n        }\n\n        return error.response.data.message;\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"authScreen unselectable\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Reset Password \\u2223 Orbimind\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Logo, {\n      className: \"popTop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"fadeIn\",\n      children: \"Reset password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => onSubmit(e.preventDefault()),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"password\",\n        id: \"password\",\n        value: password,\n        onChange: onChange,\n        placeholder: \"Enter your new password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"widthUpAuth\",\n        type: \"password\",\n        id: \"password_c\",\n        value: password_confirmation,\n        onChange: onChange,\n        placeholder: \"Repeat your password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"fadeIn\",\n        type: \"submit\",\n        value: \"Update password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"bottom-center\",\n      reverseOrder: false,\n      toastOptions: {\n        style: {\n          borderRadius: '8px',\n          backgroundColor: 'white',\n          padding: '10px'\n        },\n        duration: 2000,\n        success: {\n          iconTheme: {\n            primary: '#7c6aef',\n            secondary: '#FFF'\n          }\n        },\n        error: {\n          duration: 4000\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 9\n  }, this);\n}\n\n_s4(ResetPassword, \"dcHDi4Q8pvgee9hY2mWyJpsI0DY=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c4 = ResetPassword;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"Register\");\n$RefreshReg$(_c3, \"ForgotPassword\");\n$RefreshReg$(_c4, \"ResetPassword\");","map":{"version":3,"sources":["/Users/iantypin/frontend-app/src/components/pages/Home/Home.js"],"names":["React","useState","toast","Toaster","Link","useParams","useHistory","Helmet","Cookies","axios","Login","username","setUsername","password","setPassword","handleChange","e","target","name","value","handleSubmit","api","headers","data","url","promise","post","loading","success","response","set","id","user","email","image","token","expires","expires_in","sameSite","setTimeout","location","replace","message","error","errors","i","length","preventDefault","style","borderRadius","backgroundColor","padding","duration","iconTheme","primary","secondary","Register","history","setName","setEmail","password_confirmation","setPasswordConfirmation","push","ForgotPassword","event","ResetPassword","onChange","onSubmit"],"mappings":"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","sourcesContent":["\nimport React, { useState } from 'react'\nimport toast, { Toaster } from 'react-hot-toast'\nimport { Link, useParams, useHistory } from 'react-router-dom'\nimport { Helmet } from 'react-helmet'\nimport Cookies from 'js-cookie'\nimport axios from 'axios'\n\nexport function Login() {\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n\n    const handleChange = e => {\n        switch(e.target.name){\n            case 'username': setUsername(e.target.value); break\n            case 'password': setPassword(e.target.value); break\n        }\n    }\n\n    const handleSubmit = () => {\n        const api = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            data: {\n                username: username,\n                password: password\n            },\n            url: \"https://orbimind.herokuapp.com/api/auth/login\"\n        };\n        const promise = axios.post(api.url, api.data, { headers: api.headers });\n\n        toast.promise(\n            promise, \n            {\n                loading: 'Logging in...',\n                success: (response) => {\n                    Cookies.set('user', { \n                        id: response.data.user.id,\n                        username: response.data.user.username,\n                        name: response.data.user.name,\n                        email: response.data.user.email,\n                        image: response.data.user.image,\n                        token: response.data.token,\n                    }, { \n                        expires: (response.data.expires_in / 86400),\n                        sameSite: 'strict'\n                    });\n                    setTimeout(() => location.replace('/posts'), 1500);\n                    return response.data.message;\n                },\n                error: (error) => {\n                    if(error.response.data.errors) {\n                        if(error.response.data.errors.username)\n                            for(let i = 0; i < error.response.data.errors.username.length; i++)\n                                toast.error(error.response.data.errors.username[i])\n                        if(error.response.data.errors.password)\n                            for(let i = 0; i < error.response.data.errors.password.length; i++)\n                                toast.error(error.response.data.errors.password[i])\n                    }\n                    return error.response.data.message;\n                }\n            }\n        );\n    }\n\n    return (\n        <div className=\"authScreen unselectable\">\n            <Helmet>\n                <title>Login &#8739; Orbimind</title>\n            </Helmet>\n            <Logo className='popTop' />\n            <h1 className='fadeIn'>Welcome back!</h1>\n            <form onSubmit={ e => handleSubmit(e.preventDefault()) }>\n                <input className='widthUpAuth' type=\"text\" placeholder=\"Enter your username\" name=\"username\" value={ username } onChange={ handleChange } required />\n                <input className='widthUpAuth' type=\"password\" placeholder=\"Enter your password\" name=\"password\" value={ password } onChange={ handleChange } required />\n                <div><Link to=\"/forgot-password\" id=\"forgot\">Forgot password?</Link></div>\n                <input className='fadeIn' type=\"submit\" value=\"Log in\" />\n                <span>Not a member yet? <Link to=\"/register\">Sing up</Link>!</span>\n            </form>\n            <Toaster\n                position=\"bottom-center\"\n                reverseOrder={false}\n                toastOptions={{\n                    style: {\n                        borderRadius: '8px',\n                        backgroundColor: 'white',\n                        padding: '10px',\n                    },\n                    duration: 2000,\n                    success: {\n                        iconTheme: {\n                            primary: '#7c6aef',\n                            secondary: '#FFF',\n                        },\n                    },\n                    error: { duration: 4000 }\n                }}\n            />\n        </div>\n    )\n}\n\nexport function Register() {\n    const history = useHistory()\n    const [username, setUsername] = useState('')\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [password_confirmation, setPasswordConfirmation] = useState('')\n\n    const handleChange = e => {\n        switch(e.target.name){\n            case 'username': setUsername(e.target.value); break\n            case 'name': setName(e.target.value); break\n            case 'email': setEmail(e.target.value); break\n            case 'password': setPassword(e.target.value); break\n            case 'password_confirmation': setPasswordConfirmation(e.target.value); break\n        }\n    }\n\n    const handleSubmit = () => {\n        const api = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            data: {\n                username: username,\n                name: name,\n                email: email,\n                password: password,\n                password_confirmation: password_confirmation\n            },\n            url: \"https://orbimind.herokuapp.com/api/auth/register\"\n        };\n        const promise = axios.post(api.url, api.data, { headers: api.headers });\n\n        toast.promise(\n            promise, \n            {\n                loading: 'Registering...',\n                success: (response) => {\n                    setTimeout(() => history.push('/login'), 1500)\n                    return response.data.message\n                },\n                error: (error) => {\n                    if(error.response.data.errors) {\n                        if(error.response.data.errors.username)\n                            for(let i = 0; i < error.response.data.errors.username.length; i++)\n                                toast.error(error.response.data.errors.username[i])\n\n                        if(error.response.data.errors.name)\n                            for(let i = 0; i < error.response.data.errors.name.length; i++)\n                                toast.error(error.response.data.errors.name[i])\n\n                        if(error.response.data.errors.email)\n                            for(let i = 0; i < error.response.data.errors.email.length; i++)\n                                toast.error(error.response.data.errors.email[i])\n\n                        if(error.response.data.errors.password)\n                            for(let i = 0; i < error.response.data.errors.password.length; i++)\n                                toast.error(error.response.data.errors.password[i])\n                    }\n                    return error.response.data.message\n                }\n            }\n        );\n    }\n\n    return (\n        <div className=\"authScreen\">\n            <Helmet>\n                <title>Register &#8739; Orbimind</title>\n            </Helmet>\n            <Logo className='popTop' />\n            <h1 className='fadeIn'>Become a part!</h1>\n            <form className='widthUpAuth' onSubmit={ e => handleSubmit(e.preventDefault()) }>\n                <input className='widthUpAuth' type=\"text\" value={ username } onChange={ handleChange } name=\"username\" placeholder=\"Enter your username\" required/>\n                <input className='widthUpAuth' type=\"text\" value={ name } onChange={ handleChange } name=\"name\" placeholder=\"Enter your name\" required/>\n                <input className='widthUpAuth' type=\"email\" value={ email } onChange={ handleChange } name=\"email\" placeholder=\"Enter your email\" required/>\n                <input className='widthUpAuth' type=\"password\" value={ password } onChange={ handleChange } name=\"password\" placeholder=\"Enter your password\" required/>\n                <input className='widthUpAuth' type=\"password\" value={ password_confirmation } onChange={ handleChange } name=\"password_confirmation\" placeholder=\"Repeat your password\" required/>\n                <input className='fadeIn' type=\"submit\" value=\"Become a part\" />\n                <span>Already registered? <Link to=\"/login\">Log in</Link>!</span>\n            </form>\n            <Toaster\n                position=\"bottom-center\"\n                reverseOrder={false}\n                toastOptions={{\n                    style: {\n                        borderRadius: '8px',\n                        backgroundColor: 'white',\n                        padding: '10px',\n                    },\n                    duration: 2000,\n                    success: {\n                        iconTheme: {\n                            primary: '#7c6aef',\n                            secondary: '#FFF',\n                        },\n                    },\n                    error: { duration: 4000 }\n                }}\n            />\n        </div>\n    )\n}\n\nexport function ForgotPassword() {\n    const [email, setEmail] = useState('')\n\n    const handleChange = event => setEmail(event.target.value)\n\n    const handleSubmit = () => {\n        const api = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            data: {\n                email: email\n            },\n            url: \"https://orbimind.herokuapp.com/api/auth/password-reset\"\n        };\n        const promise = axios.post(api.url, api.data, { headers: api.headers })\n\n        toast.promise(\n            promise, \n            {\n                loading: 'Sending magic letter..',\n                success: (response) => response.data.message,\n                error: (error) => {\n                    if(error.response.data.errors) {\n                        if(error.response.data.errors.email)\n                            for(let i = 0; i < error.response.data.errors.email.length; i++)\n                                toast.error(error.response.data.errors.email[i])\n                    }\n                    return error.response.data.message;\n                }\n            }\n        )\n    }\n\n    return (\n        <div className=\"authScreen unselectable\">\n            <Helmet>\n                <title>Forgot Password &#8739; Orbimind</title>\n            </Helmet>\n            <Logo className='popTop' />\n            <h1 className='fadeIn'>Let's get your password back!</h1>\n            <form onSubmit={ e => handleSubmit(e.preventDefault()) }>\n                <input className='widthUpAuth' type=\"email\" value={ email } onChange={ handleChange } placeholder=\"Enter your email\" required />\n                <input className='fadeIn' type=\"submit\" value=\"Send email\" />\n                <span><Link to=\"/login\">Back</Link></span>\n            </form>\n            <Toaster\n                position=\"bottom-center\"\n                reverseOrder={false}\n                toastOptions={{\n                    style: {\n                        borderRadius: '8px',\n                        backgroundColor: 'white',\n                        padding: '10px',\n                    },\n                    duration: 2000,\n                    success: {\n                        iconTheme: {\n                            primary: '#7c6aef',\n                            secondary: '#FFF',\n                        },\n                    },\n                    error: { duration: 4000 }\n                }}\n            />\n        </div>\n    )\n}\n\nexport function ResetPassword() {\n    const history = useHistory()\n    const { token } = useParams()\n    const [password, setPassword] = useState('')\n    const [password_confirmation, setPasswordConfirmation] = useState('')\n\n    const onChange = (event) => {\n        switch(event.target.id) {\n            case 'password':\n                setPassword(event.target.value)\n                break;\n            case 'password_c':\n                setPasswordConfirmation(event.target.value)\n                break;\n        }\n    };\n\n    const onSubmit = () => {\n        const api = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            data: {\n                password: password,\n                password_confirmation: password_confirmation\n            },\n            url: \"https://orbimind.herokuapp.com/api/auth/password-reset/\" + token\n        };\n        const promise = axios.post(api.url, api.data, { headers: api.headers });\n\n        toast.promise(\n            promise, \n            {\n                loading: 'Updating..',\n                success: (response) => {\n                    setTimeout(() => history.push('/login'), 1500)\n                    return response.data.message\n                },\n                error: (error) => {\n                    if(error.response.data.errors) {\n                        if(error.response.data.errors.password)\n                            for(let i = 0; i < error.response.data.errors.password.length; i++)\n                                toast.error(error.response.data.errors.password[i])\n                        if(error.response.data.errors.password_confirmation)\n                            for(let i = 0; i < error.response.data.errors.password_confirmation.length; i++)\n                                toast.error(error.response.data.errors.password_confirmation[i])\n                    }\n                    return error.response.data.message;\n                }\n            }\n        );\n    }\n\n    return (\n        <div className=\"authScreen unselectable\">\n            <Helmet>\n                <title>Reset Password &#8739; Orbimind</title>\n            </Helmet>\n            <Logo className='popTop' />\n            <h1 className='fadeIn'>Reset password</h1>\n            <form onSubmit={ e => onSubmit(e.preventDefault()) }>\n                <input className='widthUpAuth' type=\"password\" id='password' value={ password } onChange={ onChange } placeholder=\"Enter your new password\" required />\n                <input className='widthUpAuth' type=\"password\" id='password_c' value={ password_confirmation } onChange={ onChange } placeholder=\"Repeat your password\" required />\n                <input className='fadeIn' type=\"submit\" value=\"Update password\" />\n                <span><Link to=\"/login\">Back</Link></span>\n            </form>\n            <Toaster\n                position=\"bottom-center\"\n                reverseOrder={false}\n                toastOptions={{\n                    style: {\n                        borderRadius: '8px',\n                        backgroundColor: 'white',\n                        padding: '10px',\n                    },\n                    duration: 2000,\n                    success: {\n                        iconTheme: {\n                            primary: '#7c6aef',\n                            secondary: '#FFF',\n                        },\n                    },\n                    error: { duration: 4000 }\n                }}\n            />\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}