{"ast":null,"code":"var _jsxFileName = \"/Users/iantypin/frontend-app/src/components/Posts/Posts.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\nimport '../../App.css';\nimport { Link } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Posts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: []\n    };\n  }\n\n  async componentDidMount() {\n    axios.get(`http://127.0.0.1:8000/api/posts`).then(res => {\n      const posts = res.data;\n      this.setState({\n        posts\n      });\n    });\n    axios.get(`http://127.0.0.1:8000/api/users/` + this.state.post.author).then(res => {\n      const user = res.data;\n      this.setState({\n        user\n      });\n      this.state;\n    });\n  }\n\n  render() {\n    var _this$state$posts;\n\n    console.log(this.state);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"box--container-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, this), Cookies.get('token') != null && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/createPost\",\n          children: \"Make a post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"box--container\",\n          children: (_this$state$posts = this.state.posts) === null || _this$state$posts === void 0 ? void 0 : _this$state$posts.map((mapPosts, index) => {\n            const url = \"/posts/\" + mapPosts.id;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"boxes\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"title\",\n                children: [\"Title: \", mapPosts.title]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"content\",\n                children: [\"Content: \", mapPosts.content]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"rating\",\n                children: [\"Rating: \", mapPosts.rating]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: url,\n                  children: \"Go to post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["/Users/iantypin/frontend-app/src/components/Posts/Posts.js"],"names":["React","axios","ReactPaginate","Link","Cookies","Posts","Component","constructor","props","state","post","componentDidMount","get","then","res","posts","data","setState","author","user","render","console","log","map","mapPosts","index","url","id","title","content","rating"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AAEA,OAAO,eAAP;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,eAAe,MAAMC,KAAN,SAAoBL,KAAK,CAACM,SAA1B,CAAoC;AACjDC,EAAAA,WAAW,CAAEC,KAAF,EAAS;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE;AADK,KAAb;AAGD;;AAEsB,QAAjBC,iBAAiB,GAAG;AACxBV,IAAAA,KAAK,CAACW,GAAN,CAAW,iCAAX,EACCC,IADD,CACMC,GAAG,IAAI;AACX,YAAMC,KAAK,GAAGD,GAAG,CAACE,IAAlB;AACA,WAAKC,QAAL,CAAc;AAAEF,QAAAA;AAAF,OAAd;AACD,KAJD;AAKAd,IAAAA,KAAK,CAACW,GAAN,CAAW,kCAAD,GAAqC,KAAKH,KAAL,CAAWC,IAAX,CAAgBQ,MAA/D,EACCL,IADD,CACMC,GAAG,IAAI;AACX,YAAMK,IAAI,GAAGL,GAAG,CAACE,IAAjB;AACA,WAAKC,QAAL,CAAc;AAAEE,QAAAA;AAAF,OAAd;AACA,WAAKV,KAAL;AACD,KALD;AAMD;;AAEDW,EAAAA,MAAM,GACN;AAAA;;AACEC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAjB;AACA,wBACE;AAAA,6BACA;AAAK,QAAA,KAAK,EAAC,wBAAX;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAIIL,OAAO,CAACQ,GAAR,CAAY,OAAZ,KAAwB,IAAxB,iBACG,QAAC,IAAD;AAAM,UAAA,EAAE,EAAE,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALP,eAUE;AAAK,UAAA,KAAK,EAAC,gBAAX;AAAA,yCAEE,KAAKH,KAAL,CAAWM,KAFb,sDAEE,kBAAkBQ,GAAlB,CAAsB,CAACC,QAAD,EAAWC,KAAX,KAAoB;AACxC,kBAAMC,GAAG,GAAG,YAAYF,QAAQ,CAACG,EAAjC;AACA,gCACE;AAAK,cAAA,KAAK,EAAE,OAAZ;AAAA,sCACE;AAAK,gBAAA,KAAK,EAAC,OAAX;AAAA,sCAAuCH,QAAQ,CAACI,KAAhD;AAAA,iBAAwBH,KAAxB;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,KAAK,EAAC,SAAX;AAAA,wCAA2CD,QAAQ,CAACK,OAApD;AAAA,iBAA0BJ,KAA1B;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAK,gBAAA,KAAK,EAAC,QAAX;AAAA,uCAAyCD,QAAQ,CAACM,MAAlD;AAAA,iBAAyBL,KAAzB;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAA,uCAAM,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAEC,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF;AAQD,WAVD;AAFF;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA,qBADF;AA8BD;;AAvDgD","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\n\nimport '../../App.css';\n\nimport { Link } from 'react-router-dom';\nimport Cookies from 'js-cookie';\n\nexport default class Posts extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      post: [],\n    }\n  }\n\n  async componentDidMount() {\n    axios.get(`http://127.0.0.1:8000/api/posts`)\n    .then(res => {\n      const posts = res.data;\n      this.setState({ posts });\n    })\n    axios.get(`http://127.0.0.1:8000/api/users/` + this.state.post.author)\n    .then(res => {\n      const user = res.data;\n      this.setState({ user });\n      this.state\n    })\n  }\n\n  render() \n  {\n    console.log(this.state);\n    return(\n      <>\n      <div class=\"box--container-wrapper\">\n        <h1>Posts</h1>\n\n          {\n          Cookies.get('token') != null &&\n            (<Link to={\"/createPost\"}>\n                Make a post\n            </Link>)\n          }\n\n        <div class=\"box--container\">\n        {\n          this.state.posts?.map((mapPosts, index) =>{\n            const url = \"/posts/\" + mapPosts.id\n            return (\n              <div class={\"boxes\"}>\n                <div class=\"title\" key={index}>Title: {mapPosts.title}</div>\n                <div class=\"content\" key={index}>Content: {mapPosts.content}</div>\n                <div class=\"rating\" key={index}>Rating: {mapPosts.rating}</div>\n                <span><Link to={url}>Go to post</Link></span>\n              </div>\n            );\n          })\n        }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}